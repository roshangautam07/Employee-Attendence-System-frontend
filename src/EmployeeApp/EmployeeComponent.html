<a routerLink="/">Home</a>&nbsp;&nbsp;&nbsp;&nbsp;
<a routerLink="/attendances/list">Attendance</a>
<input type="button"  value="logout"/>
<div class="row">
    <div class="col">
        <div class="form">
        <div class="col">
            <form class="cmxform form-horizontal" [formGroup]="emp.formEmployeeGroup" >
                <div class="form-group ">
                    <label for="firsrname" class="control-label col-lg-3">Employee FirstName</label>
                    <div class="col-lg-6">
                        <input class=" form-control" type="text" formControlName="EmployeeFirstNameControl" [(ngModel)]="emp.firstName"  id="name" placeholder="Enter FirstName" name="name">
                        <i>
                        
                            <div [hidden]="!(emp.formEmployeeGroup.controls['EmployeeFirstNameControl'].hasError('required'))" style="text-align: center;color:red;"> FirstName is Required</div>
                        </i>
                    </div>
                </div>

                <div class="form-group ">
                    <label for="middlename"  class="control-label col-lg-3">MiddleName</label>

                    <div class="col-lg-6">
                        <input class=" form-control" type="text" [ngModelOptions]="{standalone: true}"  [(ngModel)]="emp.middleName" id="code" placeholder="Enter LastName (optional)" name="code">

                    </div>
                </div>
                <div class="form-group ">
                    <label for="middlename"  class="control-label col-lg-3">LastName</label>
                    <div class="col-lg-6">
                        <input class=" form-control" formControlName="EmployeeLastNameControl" [(ngModel)]="emp.lastName" type="text"  id="lastName" placeholder="Enter Lastname." name="lastName">
                        <i>
                        
                            <div [hidden]="!(emp.formEmployeeGroup.controls['EmployeeLastNameControl'].hasError('required'))" style="text-align: center;color:red;">LastName is Required</div>
                        </i>
                    </div>
                </div>
                <div class="form-group">
                    <label for="middlename"  class="control-label col-lg-3">Gender</label>
                    <div class="form-check">
                        <input class="form-check-input" formControlName="EmployeeGenderControl" [(ngModel)]="emp.gender" value="male" type="radio" name="EmployeeGenderControl" id="flexRadioDefault1">
                        <label class="form-check-label" for="flexRadioDefault1">
    Male
  </label>
                    </div>
                    <div class="form-check">
                        <input class="form-check-input" formControlName="EmployeeGenderControl" [(ngModel)]="emp.gender" value="female" type="radio" name="EmployeeGenderControl" id="flexRadioDefault2" checked>
                        <label class="form-check-label" for="flexRadioDefault2">
   Female
  </label>
                    </div>
                    <i>
                        
                            <div [hidden]="!(emp.formEmployeeGroup.controls['EmployeeGenderControl'].hasError('required'))" style="text-align: center;color:red;">Please select gender</div>
                        </i>
                </div>

                <div class="form-group ">
                    <label for="middlename"  class="control-label col-lg-3">Date of Birth</label>
                    <div class="col-lg-6">
                        <input class=" form-control" formControlName="EmployeeDOBControl" [(ngModel)]="emp.dob" type="date"  id="phone" name="dob">
                        <i>
                            <div [hidden]="!(emp.formEmployeeGroup.controls['EmployeeDOBControl'].hasError('required'))" style="text-align: center;color:red;">Please Enter DOB</div>
                        </i>
                    </div>
                </div>

                <div class="form-group ">
                    <label for="middlename"  class="control-label col-lg-3">Address</label>
                    <div class="col-lg-6">
                        <textarea [(ngModel)]="emp.address" [ngModelOptions]="{standalone: true}" name="address"></textarea>

                    </div>
                </div>
                <div class="form-group ">
                    <label for="middlename"  class="control-label col-lg-3">Contact</label>
                    <div class="col-lg-6">
                        <input class=" form-control" [ngModelOptions]="{standalone: true}" [(ngModel)]="emp.contact"  type="text"  id="contact" placeholder="Enter employee contact." name="contact">

                    </div>
                </div>

                <div class="form-group">
                    <label for="middlename"  class="control-label col-lg-3"> Status</label>
                    <div class="col-lg-6">
                        <select name="stat" [ngModelOptions]="{standalone: true}" [(ngModel)]="emp.isActive" name="status">
                            <option value=true selected>Enable</option>
                            <option value=false>Disable</option>

                        </select>
                    </div>
                </div>

                <button type="submit" [disabled]="!(emp.formEmployeeGroup.valid)" class="btn btn-primary" (click)="submit()" >{{currentButton}}</button>
                <button type="submit" class="btn btn-danger" (click)="reset()"  >Reset</button>
                <br><br>
                <ul>
                <li *ngFor="let err of errors">
                {{err.errorMessage}}
                </li>
                </ul>

            </form>
            </div>
        </div>
    </div>
    
    <div class="col" *ngIf="isAttendanceAdd">
   Add Attendance of: <b>{{name}}</b>
        <div class="form">
            <form class="cmxform form-horizontal " id="signupForm" [formGroup]="atten.formAttendanceGroup">
                <div class="form-group ">
                <td><div class="group">
              <input type="hidden" name="id"  value="{{atten.employeeId}}" /> <span class="highlight"></span><span class="bar"></span>
             </div></td>
                    <label for="firsrname" class="control-label col-lg-3">Attendance Date</label>
                    <div class="col-lg-8">
                        <input class=" form-control" type="date" formControlName="AttendanceDateControl" [(ngModel)]="atten.attendanceDate" id="name" placeholder="Enter Name" name="name">
                        <i>
                        
                            <div [hidden]="!(atten.formAttendanceGroup.controls['AttendanceDateControl'].hasError('required'))" style="text-align: center;color:red;">Attendance date is required</div>
                        </i>
                    </div>
                </div>

                <div class="form-group ">
                    <label for="middlename" class="control-label col-lg-3">Attendance time</label>
                    <div class="col-lg-6">
                        <input class=" form-control" formControlName="AttendanceTimeControl" [(ngModel)]="atten.attendanceTime" type="time"  id="code" placeholder="Enter Customer Code" name="code">
                        <i>
                        
                            <div [hidden]="!(atten.formAttendanceGroup.controls['AttendanceTimeControl'].hasError('required'))" style="text-align: center;color:red;">Attendance Date is required</div>
                        </i>
                    </div>
                </div>
                <div class="form-group">
                    <label for="middlename"  class="control-label col-lg-3"> Status</label>
                    <div class="col-lg-6">
                        <select name="stata" formControlName="AttendanceStatusControl" [(ngModel)]="atten.status" name="statusa">
                            <option value="CheckIn" selected>CkeckIn</option>
                            <option value="CheckOut">CheckOut</option>

                        </select>
                        <i>
                        
                            <div [hidden]="!(atten.formAttendanceGroup.controls['AttendanceStatusControl'].hasError('required'))" style="text-align: center;color:red;">Attendance status is required</div>
                        </i>
                    </div>
                </div>

                <button type="submit" class="btn btn-primary" [disabled]="!(atten.formAttendanceGroup.valid)" (click)="employeeAttendance()" >Add</button>
 <ul>
                <li *ngFor="let err of errorss">
                {{err.errorMessage}}
                </li>
                </ul>
            </form>
        </div>
    </div>

   <!-- <div class="row">
        <table class="table">
            <thead>
                <tr>

                    <th scope="col">Address Type</th>
                    <th scope="col">Street</th>
                    <th scope="col">Zip Code</th>
                    <th scope="col">
                        <button type="submit" class="btn btn-danger" >Reset</button>
                    </th>
                </tr>
            </thead>
            <tbody></tbody>
        </table>
    </div> -->
    <div class="col">

        <div class="form">
            <div class="row">
                <br>
                <h3>  Employee List</h3>
                <!--  <div class="input-group">
          <div class="col-lg-3">
  <input type="search" class="form-control rounded" placeholder="Search" aria-label="Search"
    aria-describedby="search-addon" />
    </div>
  <button type="button" class="btn btn-outline-primary">search</button>
</div> -->
                <div class="Scroll">
                    <table class="table">
                        <thead >
                            <tr>
                                <th scope="col">Id</th>
                                <th scope="col">FullName</th>
                                <th scope="col">Gender</th>
                                <th scope="col">DOB</th>
                                <th scope="col">Address</th>
                                <th scope="col">Contact</th>
                                <th scope="col">Status</th>
                                <th scope="col">Action</th>
                            </tr>
                        </thead>
                        <tbody>
                        <tr *ngFor="let data of empObj">
                            <td>{{data.id}}</td>
                            <td>{{data.firstName}} {{data.middleName}}  {{data.lastName}} </td>
                            <td>{{data.gender}}</td>
                            <td>{{data.dob}}</td>
                            <td>{{data.address}}</td>
                            <td>{{data.contact}}</td>
                            <td>{{data.isActive? "Active":"InActive"}}
                            <td><input type="button" class="btn btn-success" (click)="getOne(data.id)" value="Update"/>
                            <div *ngIf="data.isActive">
                            <input type="button" class="btn btn-danger" (click)="statusToggle(data.id,false)" value="Disable"/>
                            <input type="button" class="btn btn-secondary"  (click)="addAttendance(data.id)" value="Add Attendance"/> 
                            </div>
                            <div *ngIf="!data.isActive">
                            <input type="button" class="btn btn-primary" (click)="statusToggle(data.id,true)"  value="Enable"/>
                             
                            </div>
                            </td>
                            <!--  <button class="btn btn-secondary" (click)="triggerModal(modalData)">Open Modal</button></td> -->
                        </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>

        <!--<ng-template #modalData let-modal>
  <div class="modal-header">
    <h4 class="modal-title" id="modal-basic-title">Angular Bootstrap Modal Popup</h4>
    <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
      <span aria-hidden="true">×</span>
    </button>
  </div>
  <div class="modal-body">
    
  </div>
  <div class="modal-footer">
    <button type="button" class="btn btn-danger" (click)="modal.close('Save click')">Close</button>
  </div>
</ng-template> -->